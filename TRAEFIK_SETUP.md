# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Traefik –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è

## üìã –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:

1. **Traefik –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
2. **–°–µ—Ç—å traefik** - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–µ—Ç—å –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤
3. **Labels** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
4. **HTTP –ø—Ä–æ–∫—Å–∏** - –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

## üîß –ó–∞–ø—É—Å–∫:

```bash
# –°–æ–∑–¥–∞–µ–º —Å–µ—Ç—å (–µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
docker network create traefik

# –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
docker-compose ps
```

## üåê –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º:

- **Traefik Dashboard**: http://localhost:8080
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: http://localhost (—á–µ—Ä–µ–∑ Traefik)
- **API**: http://localhost/api/ (—á–µ—Ä–µ–∑ Traefik)

## üîó –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ nginx proxy manager:

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ nginx proxy manager:
- **–î–æ–º–µ–Ω**: `gorikon.ru`
- **–ü—Ä–æ–∫—Å–∏**: `http://–í–ê–®_IP:80/` (–ø–æ—Ä—Ç 80 - Traefik)
- **SSL**: –í–∫–ª—é—á–∏—Ç—å (nginx proxy manager –ø–æ–ª—É—á–∏—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç)
- **WebSocket Support**: –í–∫–ª—é—á–∏—Ç—å (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. **Traefik** —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –ø–æ—Ä—Ç—É 80
2. **nginx proxy manager** –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ø–æ—Ä—Ç—É 80
3. **Traefik** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –ø–æ labels
4. **SSL** –∏ –≤–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç nginx proxy manager

## üìù Labels –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö:

### Backend:
```yaml
labels:
  - "traefik.enable=true"
  - "traefik.http.routers.backend.rule=Host(`gorikon.ru`) && PathPrefix(`/api/`)"
  - "traefik.http.services.backend.loadbalancer.server.port=8000"
```

### Frontend:
```yaml
labels:
  - "traefik.enable=true"
  - "traefik.http.routers.frontend.rule=Host(`gorikon.ru`)"
  - "traefik.http.services.frontend.loadbalancer.server.port=80"
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:

1. **Traefik –ª–æ–≥–∏**:
```bash
docker-compose logs traefik
```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤**:
```bash
curl -H "Host: gorikon.ru" http://localhost/api/docs
```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞**:
```bash
curl -H "Host: localhost" http://localhost/
```

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ API**:
```bash
curl -H "Host: localhost" http://localhost/api/docs
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–º–µ–Ω `gorikon.ru` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
- –ü–æ—Ä—Ç 80 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç –≤ —Ñ–∞–π—Ä–≤–æ–ª–ª–µ (–¥–ª—è Traefik)
- –ü–æ—Ä—Ç 443 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç –≤ —Ñ–∞–π—Ä–≤–æ–ª–ª–µ (–¥–ª—è nginx proxy manager)
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø–æ–ª—É—á–∞–µ—Ç nginx proxy manager, –∞ –Ω–µ Traefik

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Traefik:

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ** —Å–µ—Ä–≤–∏—Å–æ–≤  
‚úÖ **–ü—Ä–æ—Å—Ç–∞—è HTTP –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**  
‚úÖ **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–≥—Ä—É–∑–∫–∏**  
‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏**  
‚úÖ **–ü—Ä–æ—Å—Ç–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** —á–µ—Ä–µ–∑ labels
